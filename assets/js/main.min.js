(function(){'use strict';const menuToggle=document.getElementById('menu-toggle');const navPrimary=document.getElementById('nav-primary');if(menuToggle&&navPrimary){menuToggle.addEventListener('click',function(){const isOpen=navPrimary.classList.toggle('is-open');menuToggle.classList.toggle('is-open');menuToggle.setAttribute('aria-expanded',isOpen);});const navLinks=navPrimary.querySelectorAll('a');navLinks.forEach(link=>{link.addEventListener('click',function(){navPrimary.classList.remove('is-open');menuToggle.classList.remove('is-open');menuToggle.setAttribute('aria-expanded','false');});});document.addEventListener('click',function(event){if(!menuToggle.contains(event.target)&&!navPrimary.contains(event.target)){navPrimary.classList.remove('is-open');menuToggle.classList.remove('is-open');menuToggle.setAttribute('aria-expanded','false');}});}
const languageSelect=document.getElementById('language-select');if(languageSelect){languageSelect.addEventListener('change',function(){const newLang=this.value;const currentPath=window.location.pathname;const pathParts=currentPath.split('/').filter(part=>part);const currentLang=pathParts[0];let newPath=currentPath.replace('/'+currentLang+'/','/'+newLang+'/');window.location.href=newPath;});}
const currentPath=window.location.pathname;const navLinks=document.querySelectorAll('.nav-primary a');navLinks.forEach(link=>{if(link.getAttribute('href')===currentPath||link.getAttribute('href')+'/'===currentPath||link.getAttribute('href')===currentPath+'/'){link.classList.add('active');link.setAttribute('aria-current','page');}});document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',function(e){const href=this.getAttribute('href');if(href!=='#'&&href!==''){e.preventDefault();const target=document.querySelector(href);if(target){target.scrollIntoView({behavior:'smooth',block:'start'});}}});});const contactForm=document.getElementById('contact-form');if(contactForm){contactForm.addEventListener('submit',function(e){e.preventDefault();let isValid=true;const requiredFields=this.querySelectorAll('[required]');requiredFields.forEach(field=>{const errorSpan=document.getElementById(field.id+'-error');if(!field.value.trim()){isValid=false;field.classList.add('error');if(errorSpan){errorSpan.textContent=field.getAttribute('data-error')||'This field is required';}}else{field.classList.remove('error');if(errorSpan){errorSpan.textContent='';}}});const emailField=this.querySelector('[type="email"]');if(emailField&&emailField.value){const emailRegex=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;const errorSpan=document.getElementById(emailField.id+'-error');if(!emailRegex.test(emailField.value)){isValid=false;emailField.classList.add('error');if(errorSpan){errorSpan.textContent='Please enter a valid email address';}}}
if(isValid){alert('Form submitted successfully! (This is a demo - no actual submission)');this.reset();}});}
window.addEventListener('beforeprint',function(){document.body.classList.add('is-printing');});window.addEventListener('afterprint',function(){document.body.classList.remove('is-printing');});})();